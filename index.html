<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>一抔仙气 - Yuの博客</title><meta name="author" content="q8a6u"><meta name="copyright" content="q8a6u"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="生活不在别处，当下即是全部！">
<meta property="og:type" content="website">
<meta property="og:title" content="一抔仙气">
<meta property="og:url" content="https://q8a6u.github.io/index.html">
<meta property="og:site_name" content="一抔仙气">
<meta property="og:description" content="生活不在别处，当下即是全部！">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/cpicture/picture-1/raw/master/20210902202517.jpeg">
<meta property="article:author" content="q8a6u">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/cpicture/picture-1/raw/master/20210902202517.jpeg"><link rel="shortcut icon" href="https://gitee.com/cpicture/picture-1/raw/master/20210902202736.png"><link rel="canonical" href="https://q8a6u.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: q8a6u","link":"链接: ","source":"来源: 一抔仙气","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '一抔仙气',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-03-05 13:14:27'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.1">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://gitee.com/cpicture/picture-1/raw/master/20210902202517.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://gitee.com/cpicture/picture-1/raw/master/20210902204141.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">一抔仙气</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">一抔仙气</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/q8a6u" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2022/02/13/rclone-shi-yong-zi-ji-api-gua-zai-google-drive/" title="Rclone使用自己api挂载Google Drive">     <img class="post_bg" src="https://gitee.com/cpicture/picture-1/raw/master/20210902204141.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Rclone使用自己api挂载Google Drive"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/13/rclone-shi-yong-zi-ji-api-gua-zai-google-drive/" title="Rclone使用自己api挂载Google Drive">Rclone使用自己api挂载Google Drive</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-02-12T16:21:25.000Z" title="发表于 2022-02-13 00:21:25">2022-02-13</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-02-12T16:21:25.163Z" title="更新于 2022-02-13 00:21:25">2022-02-13</time></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/12/28/something-about-hax/" title="Something about Hax">     <img class="post_bg" src="https://gitee.com/cpicture/picture-1/raw/master/202112281503373.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Something about Hax"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/28/something-about-hax/" title="Something about Hax">Something about Hax</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-12-28T05:13:22.000Z" title="发表于 2021-12-28 13:13:22">2021-12-28</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-02-12T16:17:02.550Z" title="更新于 2022-02-13 00:17:02">2022-02-13</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">服务器</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/">服务器</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/Hax/">Hax</a></span></div><div class="content">TUN  OpenVZ检测TUN
cat /dev/net/tun

关闭TUN
cd /dev
mkdir net
mknod net/tun c 10 200
chmod 0666 net/tun

OpenVZ卸载apacheCentOS：
yum list | grep httpd
systemctl stop httpd.service
yum erase httpd.x86_64

Debian / Ubuntu:
apt-get --purge remove apache2
apt-get --purge remove apache2.2-common
apt-get --purge remove apache2-doc
apt-get --purge remove apache2-utils
apt-get autoremove
find /etc -name "*apache*" |xargs  rm -rf
rm -rf /var/www
rm -rf /etc/libapache2-mod-jk
dpkg -l |grep apache2|awk '{print  ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/11/01/mao-zhong-te-qi-zhong-fu-xi/" title="毛中特期中复习">     <img class="post_bg" src="https://gitee.com/cpicture/picture-1/raw/master/20210902204141.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="毛中特期中复习"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/11/01/mao-zhong-te-qi-zhong-fu-xi/" title="毛中特期中复习">毛中特期中复习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-11-01T12:43:26.000Z" title="发表于 2021-11-01 20:43:26">2021-11-01</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-11-01T13:29:28.958Z" title="更新于 2021-11-01 21:29:28">2021-11-01</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%AF%9B%E4%B8%AD%E7%89%B9/">毛中特</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/NoteBook/">NoteBook</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E6%AF%9B%E4%B8%AD%E7%89%B9/">毛中特</a></span></div><div class="content">第一章 毛泽东思想及其历史地位重要知识点1.毛泽东思想形成和发展的历史条件

19世纪末20世纪初，世界进入帝国主义和无产阶级革命时代。马克思主义自19世纪末开始传入中国，20世纪初期得到传播。1917年俄国的十月革命和1919年中国的五四运动使马克思列宁主义在中国真正得到广泛传播。正如毛泽东指出，十月革命一声炮响给我们送来了马克思列宁主义。马克思列宁主义在中国的传播，大大提高了中国先进知识分子的思想觉悟，他们以马克思列宁主义为指导，积极地投入到人民群众的斗争中去。正是这些知识分子把马克思列宁主义的基本原理同中国革命的实际情况相结合，才为中国的马克思主义——毛泽东思想的产生奠定了思想基础。
中国共产党自成立后，就领导人民求翻身、谋解放，历尽千辛万苦，艰苦奋斗，积累了成功的宝贵经验，也有遭受了失败的惨痛教训。这些实践经验激励和促使中国共产党人更加深入地思考中国革命和建设问题。毛泽东思想正是对这些经验教训进行深刻总结形成的理论成果。没有中国革命和建设的实践经验，就不可能有毛泽东思想。在同各种错误思想的斗争中，党和人民在实践中反复比较，最终选择了毛泽东作为自己的领袖，选择了毛泽东思想作为自己 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/10/28/shu-ju-wa-jue-yu-ji-qi-xue-xi-di-jiu-jiang-shen-jing-wang-luo/" title="数据挖掘与机器学习第九讲 神经网络">     <img class="post_bg" src="https://gitee.com/cpicture/picture-1/raw/master/202110281705576.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据挖掘与机器学习第九讲 神经网络"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/10/28/shu-ju-wa-jue-yu-ji-qi-xue-xi-di-jiu-jiang-shen-jing-wang-luo/" title="数据挖掘与机器学习第九讲 神经网络">数据挖掘与机器学习第九讲 神经网络</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-10-28T08:59:23.000Z" title="发表于 2021-10-28 16:59:23">2021-10-28</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-10-28T11:43:03.807Z" title="更新于 2021-10-28 19:43:03">2021-10-28</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">数据挖掘与机器学习</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/NoteBook/">NoteBook</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">数据挖掘与机器学习</a></span></div><div class="content">第九讲 神经网络神经元模型神经网络的定义


M-P神经元模型


典型的激活函数



理想激活函数是阶跃函数, 0表示抑制神经元而1表示激活神经元阶跃函数具有不连续、不光滑等不好的性质, 常用的是 Sigmoid 函数

感知机与多层网络感知机

感知机由两层神经元组成, 输入层接受外界输入信号传递给输出层, 输出层是M-P神经元（激活函数为阶跃函数时亦称阈值逻辑单元）感知机能够容易地实现逻辑与、或、非运算



感知机学习


感知机求解与、或、非问题



若两类模式线性可分, 则感知机的学习过程一定会收敛；否则感知机的学习过程将会发生震荡单层感知机的学习能力非常有限, 只能解决线性可分问题

多层感知机



输出层与输入层之间的一层神经元, 被称之为隐层或隐含层, 隐含层和输 出层神经元都是具有激活函数的功能神经元

多层前馈网络


误差逆传播算法









伪代码描述





多层前馈网络表示能力

只需要一个包含足够多神经元的隐层, 多层前馈神经网络就能以任意精度逼近任 意复杂度的连续函数[Hornik et al. ,  1989]

多层前馈网络局限

 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/10/18/bian-yi-yuan-li-di-6-zhang-lr-fen-xi/" title="编译原理第6章	LR分析">     <img class="post_bg" src="https://gitee.com/cpicture/picture-1/raw/master/202110181951958.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="编译原理第6章	LR分析"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/10/18/bian-yi-yuan-li-di-6-zhang-lr-fen-xi/" title="编译原理第6章	LR分析">编译原理第6章	LR分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-10-18T11:48:12.000Z" title="发表于 2021-10-18 19:48:12">2021-10-18</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-10-18T11:52:00.987Z" title="更新于 2021-10-18 19:52:00">2021-10-18</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/">编译原理</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/NoteBook/">NoteBook</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/">编译原理</a></span></div><div class="content">第6章    LR分析6.1自上而下分析及其LR分析概述自上而下分析算法：能力强、构造复杂
移进–归约


活前缀是规范句型的前缀，但不包括句柄



规范推导：最右推导
规范句型
规范归约

LR分析
L：自左向右
R：最右推导

LR分析器模型



ACTION：归约or移进
GOTO：归约后到达的状态

注意：归约后使用伪栈顶



</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/10/18/cao-zuo-xi-tong-di-san-zhang-tong-bu-tong-xin-yu-si-suo/" title="操作系统第三章	同步、通信与死锁">     <img class="post_bg" src="https://gitee.com/cpicture/picture-1/raw/master/202110181954400.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统第三章	同步、通信与死锁"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/10/18/cao-zuo-xi-tong-di-san-zhang-tong-bu-tong-xin-yu-si-suo/" title="操作系统第三章	同步、通信与死锁">操作系统第三章	同步、通信与死锁</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-10-18T11:20:47.000Z" title="发表于 2021-10-18 19:20:47">2021-10-18</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-10-18T11:55:17.138Z" title="更新于 2021-10-18 19:55:17">2021-10-18</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/NoteBook/">NoteBook</a></span></div><div class="content">3.6死锁3.6.1死锁产生
进程推进顺序不当产生死锁




PV操作不当产生死锁    P：通过    V：释放




 资源分配不当引起死锁




对临时资源使用不加限制引起死锁



死锁的定义：一个进程集合中的每个进程都在等待只能由集合中的其他的一个进程才能引发的事件，则称一组进程或系统此时发生了死锁
==无外力作用，无法向前推进那个==
死锁产生的因素

与系统拥有的资源数量有关
与系统分配策略有关
已进程对资源的使用要求以及并发进程的推进顺序有关

处理死锁的基本方法：预防死锁、避免死锁、检测死锁、解除死锁
3.6.2死锁防止产生死锁的必要条件

if 死锁 then …

互斥条件：进程互斥使用资源
占有和等待条件(部分分配条件)：申请新资源时不释放已占有的资源
不剥夺条件：一个进程不能抢夺其他进程占有的资源
循环等待条件(环路条件)：存在一组进程循环等待资源的现象


静态分配策略

一个进程必须在执行前就申请他所需要的全部资源，并且直到它所需要的资源都得到满足后才开始执行
降低了资源利用率
有些资源在较后的时间才使用，可能造成一个进程占有了一些几乎不用的资源而使 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/09/17/cao-zuo-xi-tong/" title="操作系统">     <img class="post_bg" src="https://gitee.com/cpicture/picture-1/raw/master/20210902204141.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/17/cao-zuo-xi-tong/" title="操作系统">操作系统</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-17T13:10:04.000Z" title="发表于 2021-09-17 21:10:04">2021-09-17</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-27T00:34:37.199Z" title="更新于 2021-09-27 08:34:37">2021-09-27</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/NoteBook/">NoteBook</a></span></div><div class="content">一、操作系统概论1.1操作系统概述1.1.1 操作系统与计算机系统计算机系统分为哪四层？从上向下看


应用程序层：解决用户不同的应用问题
支撑软件层：建立在操作系统改造和扩充过的机器上，提供扩展指令集，实现各种语言处理程序、数据库管理系统和其他系统程序。
系统软件层：最靠近硬件的一层软件
计算机硬件层：操作系统赖以工作的基础，也是操作系统设计者可以使用的功能和资源


系统软件与支撑、应用软件的区别？

应用软件：基于用户需求编写、安装的专用程序
支撑软件：实用程序、语言处理程序、数据库管理系统
系统软件：操作系统
操作系统与支撑、应用软件层次的区别：1、操作系统有权分配物理硬件资源。2、其它上层软件只能通过操作系统来使用资源
操作系统用于隔离硬件与其它上层软件

冯·诺伊曼体系结构包括哪几个部分？


操作系统的主要任务？分为几大任务？



1.1.2 操作系统的资源管理技术操作系统资源管理的主要技术包括？

复用：多个进程共享有限的物理资源
虚拟：把一个物理资源变成多个逻辑对应物
抽象：屏蔽资源复杂性，提高资源易用性

资源复用分为哪两种？试举例说明


空分复用：资源可以从空 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/09/14/qian-ru-shi-xi-tong/" title="嵌入式系统">     <img class="post_bg" src="https://gitee.com/cpicture/picture-1/raw/master/202109140932411.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="嵌入式系统"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/14/qian-ru-shi-xi-tong/" title="嵌入式系统">嵌入式系统</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-14T01:13:59.000Z" title="发表于 2021-09-14 09:13:59">2021-09-14</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-10-09T01:30:07.053Z" title="更新于 2021-10-09 09:30:07">2021-10-09</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F/">嵌入式系统</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/NoteBook/">NoteBook</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F/">嵌入式系统</a></span></div><div class="content">一、嵌入式系统概论1.1概述1.1.1为什么要学习嵌入式系统

1.1.2什么是嵌入式系统













1.2嵌入式系统的历史嵌入式系统并不是一个新的名词，它已存在大约60年的历史。在早期工业控制领域，计算机就已经被嵌入到对象系统实现特定的控制功能了。但由于那时的计算机无论是体积、功耗、运算能力还是价格等都难以满足各种设备特别是小型设备的需求。因此，严格意义上的嵌入式系统应该从微处理器出现开始算起。
1.2.1嵌入式系统的诞生与发展







1.2.2嵌入式系统的发展阶段



1.3嵌入式系统的特点

1.4嵌入式系统的分类



1.5嵌入式系統的组成 

1.5.1嵌入式系统的硬件组成





1.5.2嵌入式系统的软件组成









1.5.3嵌入式系统组成举例1.6无处不在的嵌入式系统的应用

























1.7嵌入式系统法人技术现状和发展趋势





1.8嵌入式系统的主干学科与相关技术

二、嵌入式微处理器技术2.1概述嵌入式微处理器是嵌入式系统的核心部件，深入了解和掌握嵌入式微处理器的相关技术是从事嵌入 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/09/02/wo-de-di-yi-pian-bo-ke/" title="我的第一篇博客">     <img class="post_bg" src="https://cdn.jsdelivr.net/gh/zhaoze-jpg/Xianqi@main/img/0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="我的第一篇博客"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/02/wo-de-di-yi-pian-bo-ke/" title="我的第一篇博客">我的第一篇博客</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-02T01:07:19.000Z" title="发表于 2021-09-02 09:07:19">2021-09-02</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-01-01T13:16:54.459Z" title="更新于 2022-01-01 21:16:54">2022-01-01</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/">我的第一篇博客</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Hexo/">Hexo</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/Github/">Github</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E5%8D%9A%E5%AE%A2/">博客</a></span></div><div class="content">哪个英文字母最酷？ 查看答案
  因为西装裤(C装酷)
门里站着一个人? Click
  闪
pie
    title Key elements in Product X
    "Calcium" : 42.96
    "Potassium" : 50.05
    "Magnesium" : 10.01
    "Iron" :  5

网盘​    玖麦云盘：http://cloud.894.ink/home?path=%2F​    暮希网盘：https://pan.xiaomuxi.cn/login​    咸鱼网盘：https://cloud.purefish.cn/login​    果    盘：https://main.lpan.cc/​    杏仁网盘：https://almondcloud.cn/home?path=%2F​    其他网盘：https://pan.qita.link/login?username=q8a6u@qq.com​    文件盒子：https://www.ownbox.cn/#/MyFile​    方 糖 云：https://sug ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/08/30/hello-world/" title="Hello World">     <img class="post_bg" src="https://gitee.com/cpicture/picture-1/raw/master/20210902204141.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/08/30/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-30T08:38:17.331Z" title="发表于 2021-08-30 16:38:17">2021-08-30</time><span class="article-meta__separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-08-30T08:38:17.331Z" title="更新于 2021-08-30 16:38:17">2021-08-30</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post$ hexo new "My New Post"

More info: Writing
Run server$ hexo server

More info: Server
Generate static files$ hexo generate

More info: Generating
Deploy to remote sites$ hexo deploy

More info: Deployment
</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://gitee.com/cpicture/picture-1/raw/master/20210902202517.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">q8a6u</div><div class="author-info__description">生活不在别处，当下即是全部！</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/q8a6u"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/q8a6u" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">凡所际遇，绝非偶然</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/02/13/rclone-shi-yong-zi-ji-api-gua-zai-google-drive/" title="Rclone使用自己api挂载Google Drive"><img src="https://gitee.com/cpicture/picture-1/raw/master/20210902204141.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Rclone使用自己api挂载Google Drive"/></a><div class="content"><a class="title" href="/2022/02/13/rclone-shi-yong-zi-ji-api-gua-zai-google-drive/" title="Rclone使用自己api挂载Google Drive">Rclone使用自己api挂载Google Drive</a><time datetime="2022-02-12T16:21:25.000Z" title="发表于 2022-02-13 00:21:25">2022-02-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/28/something-about-hax/" title="Something about Hax"><img src="https://gitee.com/cpicture/picture-1/raw/master/202112281503373.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Something about Hax"/></a><div class="content"><a class="title" href="/2021/12/28/something-about-hax/" title="Something about Hax">Something about Hax</a><time datetime="2021-12-28T05:13:22.000Z" title="发表于 2021-12-28 13:13:22">2021-12-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/01/mao-zhong-te-qi-zhong-fu-xi/" title="毛中特期中复习"><img src="https://gitee.com/cpicture/picture-1/raw/master/20210902204141.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="毛中特期中复习"/></a><div class="content"><a class="title" href="/2021/11/01/mao-zhong-te-qi-zhong-fu-xi/" title="毛中特期中复习">毛中特期中复习</a><time datetime="2021-11-01T12:43:26.000Z" title="发表于 2021-11-01 20:43:26">2021-11-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/10/28/shu-ju-wa-jue-yu-ji-qi-xue-xi-di-jiu-jiang-shen-jing-wang-luo/" title="数据挖掘与机器学习第九讲 神经网络"><img src="https://gitee.com/cpicture/picture-1/raw/master/202110281705576.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="数据挖掘与机器学习第九讲 神经网络"/></a><div class="content"><a class="title" href="/2021/10/28/shu-ju-wa-jue-yu-ji-qi-xue-xi-di-jiu-jiang-shen-jing-wang-luo/" title="数据挖掘与机器学习第九讲 神经网络">数据挖掘与机器学习第九讲 神经网络</a><time datetime="2021-10-28T08:59:23.000Z" title="发表于 2021-10-28 16:59:23">2021-10-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/10/18/bian-yi-yuan-li-di-6-zhang-lr-fen-xi/" title="编译原理第6章	LR分析"><img src="https://gitee.com/cpicture/picture-1/raw/master/202110181951958.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="编译原理第6章	LR分析"/></a><div class="content"><a class="title" href="/2021/10/18/bian-yi-yuan-li-di-6-zhang-lr-fen-xi/" title="编译原理第6章	LR分析">编译原理第6章	LR分析</a><time datetime="2021-10-18T11:48:12.000Z" title="发表于 2021-10-18 19:48:12">2021-10-18</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F/"><span class="card-category-list-name">嵌入式系统</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"><span class="card-category-list-name">我的第一篇博客</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"><span class="card-category-list-name">操作系统</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"><span class="card-category-list-name">数据挖掘与机器学习</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"><span class="card-category-list-name">服务器</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%AF%9B%E4%B8%AD%E7%89%B9/"><span class="card-category-list-name">毛中特</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/"><span class="card-category-list-name">编译原理</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Github/" style="font-size: 1.1em; color: #999">Github</a> <a href="/tags/Hax/" style="font-size: 1.1em; color: #999">Hax</a> <a href="/tags/Hexo/" style="font-size: 1.1em; color: #999">Hexo</a> <a href="/tags/NoteBook/" style="font-size: 1.5em; color: #99a9bf">NoteBook</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.1em; color: #999">博客</a> <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F/" style="font-size: 1.1em; color: #999">嵌入式系统</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.3em; color: #99a1ac">操作系统</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E4%B8%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 1.1em; color: #999">数据挖掘与机器学习</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 1.1em; color: #999">服务器</a> <a href="/tags/%E6%AF%9B%E4%B8%AD%E7%89%B9/" style="font-size: 1.1em; color: #999">毛中特</a> <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" style="font-size: 1.1em; color: #999">编译原理</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">十二月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/10/"><span class="card-archive-list-date">十月 2021</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/09/"><span class="card-archive-list-date">九月 2021</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/08/"><span class="card-archive-list-date">八月 2021</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">10</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-08-30T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">9.7k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-03-05T05:14:27.746Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By q8a6u</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<code>.*?<\/code>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    fetch('https://disqus.com/api/3.0/forums/listPosts.json?forum=renaio&related=thread&limit=6&api_key=')
      .then(response => response.json())
      .then(data => {
        const disqusArray = data.response.map(item => {
          return {
            'avatar': item.author.avatar.cache,
            'content': changeContent(item.message),
            'nick': item.author.name,
            'url': item.url,
            'date': item.createdAt
          }
        })

        saveToLocal.set('disqus-newest-comments', JSON.stringify(disqusArray), 10/(60*24))
        generateHtml(disqusArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick}</span><time> / ${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('disqus-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>